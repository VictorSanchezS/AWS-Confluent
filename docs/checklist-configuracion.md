# ‚úÖ CHECKLIST: Configuraci√≥n AWS-Confluent desde Cero

## üìÖ PLAN PARA MA√ëANA

### ‚è∞ Tiempo estimado: 2-3 horas
### üéØ Objetivo: Tener un sistema completo funcionando para investigar TOPICS

---

## üî• PARTE 1: PREPARACI√ìN LOCAL (15 minutos)

### ‚úÖ 1.1 Instalar Dependencias Python
```powershell
# Abrir PowerShell en la carpeta del proyecto
cd "c:\Users\USUARIO\OneDrive\Desktop\Ciclo_2025_I\Topicos Avanzados de Ingeneria de Sistemas\A presentar\AWS-Confluent"

# Instalar paquetes necesarios
pip install kafka-python boto3 python-dotenv
```

### ‚úÖ 1.2 Verificar Instalaci√≥n
```powershell
python -c "import kafka, boto3, dotenv; print('‚úÖ Todas las dependencias instaladas')"
```

---

## üåü PARTE 2: CONFIGURAR CONFLUENT CLOUD (45 minutos)

### ‚úÖ 2.1 Crear Cluster
1. **Ir a:** https://confluent.cloud
2. **Login** con tu cuenta
3. **Buscar:** Bot√≥n "Create cluster" o "Add cluster"
4. **Seleccionar:**
   - Tipo: **Basic** (gratuito)
   - Cloud: **Amazon Web Services**
   - Regi√≥n: **us-east-1** (N. Virginia)
   - Nombre: `mi-primer-cluster`
5. **Crear cluster** (toma 5-10 minutos)

### ‚úÖ 2.2 Generar API Keys
1. **Esperar** a que el cluster est√© listo
2. **Ir a:** "Data integration" ‚Üí "API keys"
3. **Click:** "Create key" o "+ Add key"
4. **Seleccionar:** "Global access"
5. **Descripci√≥n:** "Integraci√≥n AWS"
6. **‚ö†Ô∏è IMPORTANTE:** Copiar y guardar:
   - **API Key:** (ejemplo: ABC123DEF456)
   - **API Secret:** (ejemplo: xyz789abc123...)

### ‚úÖ 2.3 Obtener Bootstrap Servers
1. **Ir a:** "Cluster overview" o "Cluster settings"
2. **Buscar:** "Bootstrap server" o "Endpoint"
3. **Copiar:** La URL (ejemplo: pkc-xxxxx.us-east-1.aws.confluent.cloud:9092)

### ‚úÖ 2.4 Crear Topics
1. **Ir a:** "Topics" en el men√∫ lateral
2. **Crear 3 topics:**

   **Topic 1:**
   - Nombre: `estudiante-eventos`
   - Particiones: 1
   - Retention: 7 days
   
   **Topic 2:**
   - Nombre: `sistema-logs`
   - Particiones: 1
   - Retention: 7 days
   
   **Topic 3:**
   - Nombre: `notificaciones`
   - Particiones: 1
   - Retention: 3 days

---

## ‚òÅÔ∏è PARTE 3: CONFIGURAR AWS (45 minutos)

### ‚úÖ 3.1 Crear Usuario IAM
1. **Ir a:** https://console.aws.amazon.com
2. **Buscar:** "IAM" en el buscador
3. **Ir a:** Users ‚Üí "Create user"
4. **Configurar:**
   - User name: `confluent-integration-user`
   - Access type: ‚úÖ "Provide user access to the AWS Management Console"
   - Console password: Autogenerated
   - ‚úÖ "Users must create a new password at next sign-in"
5. **Permissions:**
   - "Attach policies directly"
   - Buscar y seleccionar:
     - `AmazonS3FullAccess`
     - `CloudWatchFullAccess`
6. **Create user**
7. **‚ö†Ô∏è IMPORTANTE:** En la siguiente pantalla, crear "Access Keys":
   - Use case: "Application running outside AWS"
   - Copiar: Access Key ID y Secret Access Key

### ‚úÖ 3.2 Crear Bucket S3
1. **Buscar:** "S3" en la consola AWS
2. **Click:** "Create bucket"
3. **Configurar:**
   - Bucket name: `confluent-data-[tu-nombre]` (ejemplo: confluent-data-victor)
   - Region: **us-east-1**
   - Todo lo dem√°s: configuraci√≥n por defecto
4. **Create bucket**

### ‚úÖ 3.3 Crear CloudWatch Log Group
1. **Buscar:** "CloudWatch" en la consola AWS
2. **Ir a:** Logs ‚Üí Log groups
3. **Click:** "Create log group"
4. **Configurar:**
   - Log group name: `/confluent/mi-aplicacion`
   - Retention: 7 days
5. **Create**

---

## üíª PARTE 4: CONFIGURAR PROYECTO LOCAL (30 minutos)

### ‚úÖ 4.1 Configurar Variables de Entorno
1. **Copiar archivo:**
   ```powershell
   copy config\.env.example config\.env
   ```

2. **Editar config\.env** con tus datos reales:
   ```env
   # Datos de Confluent Cloud (del paso 2)
   CONFLUENT_BOOTSTRAP_SERVERS=pkc-xxxxx.us-east-1.aws.confluent.cloud:9092
   CONFLUENT_API_KEY=tu-api-key-aqui
   CONFLUENT_API_SECRET=tu-api-secret-aqui
   
   # Datos de AWS (del paso 3)
   AWS_ACCESS_KEY_ID=tu-access-key-aqui
   AWS_SECRET_ACCESS_KEY=tu-secret-key-aqui
   AWS_REGION=us-east-1
   AWS_S3_BUCKET=confluent-data-[tu-nombre]
   AWS_CLOUDWATCH_LOG_GROUP=/confluent/mi-aplicacion
   
   # Topics (del paso 2.4)
   TOPIC_USER_EVENTS=estudiante-eventos
   TOPIC_SYSTEM_LOGS=sistema-logs
   TOPIC_NOTIFICATIONS=notificaciones
   ```

### ‚úÖ 4.2 Probar Conexiones
```powershell
python test_integration.py
```
**Esperado:** Todas las pruebas deben pasar ‚úÖ

---

## üß™ PARTE 5: PROBAR EL SISTEMA (15 minutos)

### ‚úÖ 5.1 Enviar Datos de Prueba
```powershell
python producers/basic_producer.py
```
**Esperado:** Mensajes enviados exitosamente

### ‚úÖ 5.2 Consumir y Procesar Datos
```powershell
# En otra terminal PowerShell
python consumers/integrated_consumer.py
```
**Esperado:** Ver mensajes siendo procesados y enviados a AWS

### ‚úÖ 5.3 Verificar en AWS
1. **S3:** Verificar que se crearon archivos en tu bucket
2. **CloudWatch:** Verificar logs en `/confluent/mi-aplicacion`

---

## üìö PARTE 6: INVESTIGACI√ìN SOBRE TOPICS (tiempo libre)

### ‚úÖ 6.1 Experimentar con Topics
- Enviar diferentes tipos de mensajes
- Observar c√≥mo se organizan los datos
- Probar con m√∫ltiples consumers

### ‚úÖ 6.2 Preguntas para tu Investigaci√≥n
1. **¬øC√≥mo garantizan los topics el orden de los mensajes?**
2. **¬øQu√© pasa si un consumer se desconecta y se reconecta?**
3. **¬øC√≥mo afectan las particiones al rendimiento?**
4. **¬øCu√°l es la diferencia entre un topic y una cola tradicional?**
5. **¬øC√≥mo se puede escalar un topic cuando crece el volumen de datos?**

---

## üÜò TROUBLESHOOTING COM√öN

### Error: "Authentication failed"
- ‚úÖ Verificar API Key y Secret en .env
- ‚úÖ Verificar Bootstrap Servers URL

### Error: "Topic not found"
- ‚úÖ Verificar que los topics existen en Confluent Cloud
- ‚úÖ Verificar nombres exactos en .env

### Error: "AWS Access Denied"
- ‚úÖ Verificar Access Key y Secret Key
- ‚úÖ Verificar que el usuario IAM tiene las pol√≠ticas correctas

### Error: "Bucket not found"
- ‚úÖ Verificar que el bucket S3 existe
- ‚úÖ Verificar nombre del bucket en .env

---

## üìû CONTACTOS DE EMERGENCIA

Si algo no funciona:
1. **Revisar:** logs de error en la terminal
2. **Verificar:** que todos los servicios est√©n creados en las consolas web
3. **Probar:** ejecutar `python test_integration.py` para diagn√≥stico
4. **Comparar:** tu archivo .env con el .env.example

---

## üéØ OBJETIVO FINAL

Al terminar tendr√°s:
- ‚úÖ Un cluster Confluent Cloud funcionando
- ‚úÖ Topics creados y operativos
- ‚úÖ Integraci√≥n completa con AWS S3 y CloudWatch
- ‚úÖ C√≥digo Python que demuestra streaming de datos
- ‚úÖ Material para investigar c√≥mo funcionan los TOPICS

**¬°Buena suerte ma√±ana! üöÄ**
